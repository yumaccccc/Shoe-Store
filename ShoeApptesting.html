
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Cases for Shoe store</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.0.1.css">
    <script src="https://code.jquery.com/qunit/qunit-2.0.1.js"></script>
   
    <script>
        // test case for email address
        QUnit.test("Email Address test case", function (assert) {
            var email = "someemailaddress@gmail.com";
            var isOk = isEmailAddress(email);
            var msg = "Invalid Email " + email;
            if (isOk) {
                msg = "Thanks! We will notify you of our new shoes at this email:" + email;
            }
            assert.ok(isOk, msg);

        });


        function isEmailAddress(str) {
            var emailPattern = "^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$";
            var reg = new RegExp(emailPattern);

            return reg.test(str);
        }

        // test case for image
        QUnit.test('Image loading Test case (async)', function (assert) {

            var shoe_image = $('img');

            isImageLoaded(shoe_image, assert);

        });

        function isImageLoaded(shoe_image, assert) {

            var done = assert.async();
            
            shoe_image.error(function (e) {
                assert.ok(false, 'Image not loaded properly');
                done();
            });
            shoe_image.load(function () {

                assert.ok(true, 'Image loaded properly');
                done();
            });
        }

        // test case for price
        QUnit.test('Price value test case', function (assert) {
            var price = $.trim($('.shoe_price').html());
            var isOk = isPriceValidated(price);
            var msg = "Invalid Price : "+price;
            if (isOk) {
                msg = "Valid Price : " + price;
            }
            assert.ok(isOk, msg);
        });
        function isPriceValidated(price) {

            var pricePattern = "^\\$?(([1-9][0-9]{0,2}(,[0-9]{3})*)|0)?\\.[0-9]{1,2}$";
            var reg = new RegExp(pricePattern);
            return reg.test(price);
        }

        // test for blurb

        QUnit.test('Blurb Test', function (assert) {

            var count = $('ul li').length;
            var isOk = false;
            var msg = "No blurb avialable";
            if (count > 0)
            {
                isOk = true;
                msg = count + " blurbs found";
            }
            assert.ok(isOk, msg);
        });

       

    </script>
</head>
<body>

    <div id="qunit"></div>
    <div id="qunit-fixture">
        <div class='title'>
            <h2>March's Shoes</h2>
        </div>
        <ul id='shoe_list'>
            <li id='miu_miu_miu_miu_ankle_strap_platform_sandal'>
                <div class='shoe_result'>
                    <table>
                        <tr class='shoe_result_row'>
                            <td class='shoe_result_label'>Brand</td>
                            <td class='shoe_result_value shoe_brand'>
                                <a href='/brands/Miu Miu'>
                                    Miu Miu
                                </a>
                            </td>
                        </tr>
                        <tr class='shoe_result_row'>
                            <td class='shoe_result_label'>Name</td>
                            <td class='shoe_result_value shoe_name'>
                                Miu Miu Ankle Strap Platform Sandal
                            </td>
                        </tr>
                        <tr class='shoe_result_row'>
                            <td class='shoe_result_label'>Price</td>
                            <td class='shoe_result_value shoe_price'>
                                $2,100.00
                            </td>
                        </tr>
                        <tr class='shoe_result_row'>
                            <td class='shoe_result_label'>Description</td>
                            <td class='shoe_result_value shoe_description'>
                                Miu Miu Ankle Strap Platform Sandal MIU MIU Miu Miu Sandals/Slides Shoes Adjustable strap with buckle closure. Approx. heel height: 5 1/4" with 1 3/4" platform (comparable to a 3 1/2" heel). Metallic leather upper/leather lining/rubber sole. Made in Italy. Salon Shoes.
                            </td>
                        </tr>
                        <tr class='shoe_result_row'>
                            <td class='shoe_result_label'>Release Month</td>
                            <td class='shoe_result_value shoe_release_month'>
                                <a href='/months/march'>
                                    March
                                </a>
                            </td>
                        </tr>
                        <tr class='shoe_result_row'>
                            <td class='shoe_image' colspan='2'>
                                <img alt='' src='http://content.nordstrom.com/ImageGallery/store/product/Thumbnail/11/_7389971.jpg'>
                            </td>
                        </tr>
                    </table>
                </div>
            </li>

        </ul>
    </div>

</body>
</html>